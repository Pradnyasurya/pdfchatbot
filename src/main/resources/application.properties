# Application
spring.application.name=pdf-chatbot
server.port=${PORT:8080}

# Security Configuration
app.security.enabled=${SECURITY_ENABLED:true}
app.security.admin.username=${ADMIN_USERNAME:admin}
app.security.admin.password=${ADMIN_PASSWORD:admin123}
app.security.user.username=${USER_USERNAME:user}
app.security.user.password=${USER_PASSWORD:user123}

# Database Configuration
# Railway will provide DATABASE_URL in format: postgres://user:pass@host:port/dbname
spring.datasource.url=${DATABASE_URL:jdbc:postgresql://localhost:5432/pdfchatbot}
spring.datasource.username=${PGUSER:chatbot}
spring.datasource.password=${PGPASSWORD:chatbot123}
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA/Hibernate Configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true

# Multi-Model AI Configuration
# Primary model provider: openai, anthropic, or gemini
app.ai.primary-provider=${AI_PRIMARY_PROVIDER:openai}
# Fallback order (comma-separated): openai,anthropic,gemini
app.ai.fallback-order=${AI_FALLBACK_ORDER:openai,anthropic,gemini}
# Maximum output tokens (applies to all models)
app.ai.max-output-tokens=5000

# OpenAI Configuration
spring.ai.openai.api-key=${OPENAI_API_KEY:}
spring.ai.openai.chat.options.model=gpt-4-turbo-preview
spring.ai.openai.chat.options.temperature=0.3
spring.ai.openai.chat.options.max-tokens=5000
spring.ai.openai.embedding.options.model=text-embedding-3-small

# Anthropic (Claude) Configuration
spring.ai.anthropic.api-key=${ANTHROPIC_API_KEY:}
spring.ai.anthropic.chat.options.model=claude-sonnet-4-20250514
spring.ai.anthropic.chat.options.temperature=0.3
spring.ai.anthropic.chat.options.max-tokens=5000

# Google Gemini Configuration (via OpenAI-compatible API)
# Gemini API key from Google AI Studio: https://aistudio.google.com/
app.ai.gemini.api-key=${GOOGLE_AI_API_KEY:}
app.ai.gemini.model=gemini-1.5-pro
app.ai.gemini.base-url=https://generativelanguage.googleapis.com/v1beta/openai/

# PgVector Configuration
spring.ai.vectorstore.pgvector.index-type=HNSW
spring.ai.vectorstore.pgvector.distance-type=COSINE_DISTANCE
spring.ai.vectorstore.pgvector.dimensions=1536
spring.ai.vectorstore.pgvector.initialize-schema=true
spring.ai.vectorstore.pgvector.schema-name=public
spring.ai.vectorstore.pgvector.table-name=vector_store
spring.ai.vectorstore.pgvector.max-document-batch-size=100

# File Upload Configuration
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=50MB

# Custom Application Properties
app.upload.dir=./uploads
app.rag.chunk-size=1000
app.rag.chunk-overlap=200
app.rag.top-k=10
app.rag.similarity-threshold=0.5

# Logging Configuration
logging.level.root=INFO
logging.level.com.surya.pdfchatbot=DEBUG
logging.level.org.springframework.ai=DEBUG
logging.level.org.springframework.ai.vectorstore.pgvector=TRACE
logging.level.org.springframework.jdbc.core=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
